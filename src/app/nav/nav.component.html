<div fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="2rem">
  <h1><a routerLink="/">MUTE</a></h1>
  <div class="profile" fxShow fxHide.gt-sm='true'>
    <mat-form-field dividerColor="accent" floatPlaceholder="never">
      <mat-icon matPrefix>account_circle</mat-icon>
      <input #inputPseudo matInput
          [value]="profile.onPseudonym | async"
          (keydown)="updatePseudo($event)"
          (blur)="updatePseudo($event)"
          (focus)="selectPseudo()"
      />
    </mat-form-field>
  </div>
  <button fxFlexAlign="center" class='btn' mat-raised-button color="accent" (click)="newDoc()">New Document</button>
  <!--<button fxFlexAlign="center" class='btn' mat-raised-button color="accent" (click)="openDialog()">Add Storage</button>-->

  <mat-button-toggle-group fxLayout="column" fxLayoutAlign="start stretch"
      vertical="true"
      (change)="setActiveFile($event)"
  >

    <!-- All documents folder -->
    <mat-button-toggle
          [routerLink]="'/docs/' + allDocuments.id"
          [value]="allDocuments"
          [checked]="activeFolder === allDocuments"
          (click)="onStorageClick()"
    >
      <span class="content" fxLayout="row" fxLayoutAlign="left center">
        <mat-icon>{{allDocuments.icon}}</mat-icon>
        {{allDocuments.title}}
      </span>
    </mat-button-toggle>

    <!-- Local Storage folder -->
    <mat-button-toggle
          [routerLink]="'/docs/' + local.id"
          [checked]="activeFolder === local"
          [value]="local"
          (click)="onStorageClick()"
    >
      <span class="content" fxLayout="row" fxLayoutAlign="left center">
        <mat-icon>{{local.icon}}</mat-icon>
        {{local.title}}
      </span>
    </mat-button-toggle>

    <!-- Bots' folders -->
    <mat-button-toggle
        *ngFor="let botFolder of botFoldersSubject.asObservable() | async; let isLast = last"
        [routerLink]="'/docs/' + botFolder.id"
        [checked]="activeFolder === botFolder"
        [value]="botFolder"
        (click)="onStorageClick()"
    >
      <span class="content" fxLayout="row" fxLayoutAlign="left center">
        <mat-icon>{{botFolder.icon}}</mat-icon>
        {{botFolder.title}}
      </span>
    </mat-button-toggle>

    <!-- Trash folder -->
    <hr class='divider' />
    <mat-button-toggle
          [routerLink]="'/docs/' + trash.id"
          [checked]="activeFolder === trash"
          [value]="trash"
          (click)="onStorageClick()"
    >
      <span class="content" fxLayout="row" fxLayoutAlign="left center">
        <mat-icon>{{trash.icon}}</mat-icon>
        {{trash.title}}
      </span>
    </mat-button-toggle>
  </mat-button-toggle-group>
</div>
