<mat-sidenav-container fxFlex>

  <!-- Left Sidenav-->
  <mat-sidenav #leftSidenavElm class="leftsidenav" [mode]="sideNavMode" [opened]="!this.media.isActive('xs')">
    <mute-nav></mute-nav>
  </mat-sidenav>

  <!-- Content -->
  <div fxLayout="column">

    <div class="doc-grid" fxLayoutWrap fxLayout="row" >
      <h3 class="noDoc" *ngIf="docs.length === 0">No documents!</h3>
      <mat-card *ngFor="let doc of docs; let i = index"
        fxLayout="column" fxFlex.xs="1 0 150px"
        (dblclick)="openDoc(doc)"
      >
      <mat-card-header>
        <div *ngIf="doc.sync; else elseBlock" matCardAvatar class="status"><mat-icon matTooltip="Document Sync">cloud_done</mat-icon></div>
        <ng-template #elseBlock><div matCardAvatar class="status"><mat-icon matTooltip="Document Non-Sync">cloud_off</mat-icon></div></ng-template>
        <mat-card-title>
          {{doc.title}}
        </mat-card-title>
        <mat-card-subtitle>
          {{ doc.syncDate | date:'short'}}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div>
          Key: 
          {{doc.id}}
        </div>
        <div>
          Location: 
          <mat-icon class="locationIcon" *ngFor="let icon of doc.getStorageIcons()">
            {{icon}}
          </mat-icon>
        </div>
      </mat-card-content>
      
      <mat-card-actions class="actions">
        <button mat-button (click)="openDoc(doc)"><mat-icon>mode_edit</mat-icon></button>
        <button mat-button (click)="shareDoc(doc)"><mat-icon>share</mat-icon></button>
        <button mat-button (click)="deleteDoc(doc)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-card-actions>

      

      </mat-card>
    </div>

  </div>

  <!-- Right Sidenav-->
  <mat-sidenav #rightSidenavElm class="rightsidenav" [mode]="sideNavMode" align="end" [opened]="!this.media.isActive('xs')">
    <div fxLayout="column" fxLayoutAlign="start stretch" class="content">
      <div fxLayout="row" fxLayoutAlign="end center" class="line global-actions">
        <button mat-mini-fab (click)="deleteAllDocs()" matTooltip="Delete all" color="accent">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </div>
      <hr class='divider' />
      <div fxLayout="row" fxLayoutAlign="start center" class="line">
        <span class="secondary-text">Number of documents</span><span>{{docs.length}}</span>
      </div>
    </div>
  </mat-sidenav>

</mat-sidenav-container>
