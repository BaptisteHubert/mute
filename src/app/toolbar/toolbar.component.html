<md-toolbar color="primary">
  <div class="left-part" fxLayout="row" fxLayoutAlign="start center">
    <button md-icon-button (click)="ui.toggleNav()">
      <md-icon>menu</md-icon>
    </button>
    <div class="profile" fxHide fxShow.gt-sm='true'>
      <md-form-field dividerColor="accent" floatPlaceholder="never">
        <md-icon mdPrefix>account_circle</md-icon>
        <input #inputPseudo mdInput
            [value]="profile.onPseudonym | async"
            (keydown)="updatePseudo($event)"
            (blur)="updatePseudo($event)"
            (focus)="selectPseudo()"
        />
      </md-form-field>
    </div>
  </div>

  <ng-container [ngSwitch]="routeName">
    <!-- Toolbar content for Docs -->
    <ng-container *ngSwitchCase="'docs'">
      <h2 class="central-part">{{rootFileTitle | async}}</h2>
      <button class="right-part" md-icon-button (click)="ui.toggleDocNav()">
        <md-icon>info</md-icon>
      </button>
    </ng-container>
  
    <!-- Toolbar content for Doc -->
    <ng-container *ngSwitchCase="'doc'">
      <!-- <mute-edit-field fxLayout="row" fxLayoutAlign="center center" [value]="rootFileTitle | async"
        defaultValue="Untitled document" (onDone)="updateTitle($event)">
      </mute-edit-field> -->
      <div class="central-part doc-title" [ngStyle.xs]="{'width.px': 200}">
        <md-form-field class="full-width" dividerColor="accent" floatPlaceholder="never">
          <input #inputTitle mdInput
              [value]="rootFileTitle | async"
              (keydown)="updateTitle($event)"
              (blur)="updateTitle($event)"
              (focus)="selectTitle()"
          />
        </md-form-field>
      </div>
      <div class="right-part" fxLayout="row" fxLayoutAlign="end center">
        <span [ngSwitch]="syncState" fxLayout="column" fxLayoutAlign="center center"
          (mouseenter)='showSyncDetails()' (mouseleave)='hideSyncDetails()'
        >
          <md-icon *ngSwitchCase="SYNC">sync</md-icon>
          <md-icon *ngSwitchCase="SYNC_DISABLED">sync_disabled</md-icon>
          <md-icon *ngSwitchCase="SYNC_PROBLEM">sync_problem</md-icon>
          <md-icon class="syncing" *ngSwitchDefault>sync</md-icon>
        </span>
        <div class="sync-details" [@syncDetails]="syncDetailsState">
          <h4 class="mat-subheading-1">{{syncDetails}}</h4>
          <p class="mat-body-1">
            <span class="mat-body-2">Signaling state: </span>
            {{signalingDetails}}
          </p>
          <p class="mat-body-1">
            <span class="mat-body-2">Group state: </span>
            {{groupDetails}}
          </p>
        </div>
        <button *ngIf="media.isActive('lt-md')" md-icon-button (click)="ui.toggleDocNav()">
          <md-icon>info</md-icon>
        </button>
      </div>
    </ng-container>
  
    <!-- Toolbar content for Doc History -->
    <ng-container *ngSwitchCase="'history'">
      <h2 class="central-part">{{rootFileTitle | async}}</h2>
      <button class="right-part" md-icon-button (click)="ui.toggleDocNav()">
        <md-icon>info</md-icon>
      </button>
    </ng-container>
  </ng-container>
</md-toolbar>